test_kqa_verify:
    relevant_parameter: [Host, Access-Token]
    description: "关键字搜索- 关键字重复校验"
    method: post
    url: ${Host}$/api/admin/keyword/KQA/verifyDuplicated
    json:
      TenantId: "928d2511-6783-43c2-bde5-dcf059f55710"
      BotId: "16a600bb-e081-4346-a687-6cfe69da4280"
      CreateUserName: "testbot"
      CreateUserId: null
      TenantDomain: "test01@testbot.hightalk.ai"
      KeyWord: "321231321"
    headers:
      Content-Type: application/json; charset=utf-8
      Access-Token: ${Access-Token}$
    assert:
      Status: 1
    check_db:

test_kqa_verify_required_verify_TenantDomain:
  relevant_parameter: [Host, Access-Token]
  description: "关键字搜索- 关键字重复校验-TenantDomain为空"
  method: post
  url: ${Host}$/api/admin/keyword/KQA/verifyDuplicated
  json:
    TenantId: "928d2511-6783-43c2-bde5-dcf059f55710"
    BotId: "16a600bb-e081-4346-a687-6cfe69da4280"
    CreateUserName: "testbot"
    CreateUserId: null
    KeyWord: "321231321"
  headers:
    Content-Type: application/json; charset=utf-8
    Access-Token: ${Access-Token}$
  assert:
    ErrorMsg: "租户域名不能为空."
  check_db:

test_kqa_verify_keyword_number:
    relevant_parameter: [Host, Access-Token]
    description: "关键字搜索- 关键字重复校验-keyword数量超过3"
    method: post
    url: ${Host}$/api/admin/keyword/KQA/verifyDuplicated
    json:
      TenantId: "928d2511-6783-43c2-bde5-dcf059f55710"
      BotId: "16a600bb-e081-4346-a687-6cfe69da4280"
      CreateUserName: "testbot"
      CreateUserId: null
      TenantDomain: "test01@testbot.hightalk.ai"
      KeyWord: "32&12321&321321&321321"
    headers:
      Content-Type: application/json; charset=utf-8
      Access-Token: ${Access-Token}$
    assert:
      Status: 0
    check_db:

test_kqa_verify_keyword_splite:
    relevant_parameter: [Host, Access-Token]
    description: "关键字搜索- 关键字重复校验-keyword分隔符"
    method: post
    url: ${Host}$/api/admin/keyword/KQA/verifyDuplicated
    json:
      TenantId: "928d2511-6783-43c2-bde5-dcf059f55710"
      BotId: "16a600bb-e081-4346-a687-6cfe69da4280"
      CreateUserName: "testbot"
      CreateUserId: null
      TenantDomain: "test01@testbot.hightalk.ai"
      KeyWord: "32|1231223"
    headers:
      Content-Type: application/json; charset=utf-8
      Access-Token: ${Access-Token}$
    assert:
      Status: 0
    check_db:
